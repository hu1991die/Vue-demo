<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Vue.js学习-合计总价</title>
		<link rel="stylesheet" href="css/total-currency.css" />
	</head>
	
	<body>
		<div id="main" v-cloak>
			<h1>Services</h1>
			<ul>
				<li v-for="item in items" @click="toggleActive(item)" :class="{'active':item.active}">
					{{ item.name }}
					<span>{{ item.price | currency }}</span>
				</li>
			</ul>
			<p>Total:<span>{{ total() | currency }}</span></p>
		</div>
	</body>
	
	<script type="text/javascript" src="js/common/vue.js" ></script>
	<script>
		var demo = new Vue({
			el:'#main',
			data:{
				items:[
					{
		        		name: 'Web Development',
		        		price: 300,
		        		active:false
		        	},{
		        		name: 'Design',
		        		price: 400,
		        		active:false
		        	},{
		        		name: 'Integration',
		        		price: 250,
		        		active:false
		        	},{
		        		name: 'Training',
		        		price: 220,
		        		active:false
		        	}
				]
			},
			methods:{
				toggleActive: function(i){
					i.active = !i.active;
				},
				total: function(){
					var total = 0;
					this.items.forEach(function(s){
						if(s.active){
							total += s.price;
						}
					});
					return total;
				}
			}
		})
	</script>
</html>
